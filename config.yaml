# NDN/gRPC Conversion Project Configuration
# Copy this file to config.yaml and modify as needed

# Running mode: 'server' or 'client'
# Can be overridden by command line argument or MODE environment variable
mode: server

# Logging configuration
logging:
  level: INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# NDN configuration
ndn:
  # PIB (Public Information Base) database path
  # Path to SQLite database file for storing public keys and certificates
  # Leave empty to use default: ~/.ndn/pib.db
  pib_path: /root/.ndn/pib.db
  
  # TPM (Trusted Platform Module) directory path
  # Directory for storing private keys
  # Leave empty to use default: ~/.ndn/ndnsec-key-file
  tpm_path: /root/.ndn/ndnsec-key-file

# Server-specific configuration
server:
  # Routes to register (list of prefixes)
  routes:
    - /yao/test/demo/B
  
  # Data to store (name -> content mapping)
  data:
    /yao/test/demo/B: '{"value": 0, "payload": "Hello from NDN Server!"}'
  
  # Freshness period for Data packets (in milliseconds)
  freshness_period: 10000

# Client-specific configuration
client:
  # Interest lifetime (in milliseconds)
  interest_lifetime: 4000
  
  # Disable cache (must_be_fresh flag)
  # If true, Interest will require fresh data and bypass cache
  disable_cache: true
  
  # Interests to send (for demo purposes)
  interests:
    - /yao/test/demo/B

# gRPC configuration
grpc:
  # Server configuration
  server:
    # Server listening port
    port: 50051
    # Whether to use NDN client for request processing
    # If true, requests will be routed through NDN
    # If false, requests will be processed by gRPC server directly
    use_ndn: true
  
  # Client configuration
  client:
    # Server address (host:port)
    host: localhost:50051
  
  # Test data for client demo (value, payload)
  test_data:
    - [1, "test1"]
  
  # Bridge configuration
  # If true, NDN server will forward Interest requests to gRPC server
  # Interest app_param will be converted to gRPC request, and gRPC response will be converted to Data packet
  bridge_enabled: false  # enable ndn-to-grpc bridge in NDN server
  # Prefixes that should be forwarded to gRPC server (empty list means all prefixes when bridge_enabled is true)
  bridge_prefixes: []  # e.g., ["/grpc/forward", "/api/grpc"]

